<div class="container">

  <div class="products-search flex flex-col gap-3">
    <app-products-search (onSearch)="this.filterService.setSearchText($event)"/>
    <app-products-filter [items]="getAllPizzaFilters()"/>
  </div>

  <div class="flex flex-col items-center gap-8">
    <div class="products flex justify-start flex-wrap gap-y-12 gap-x-12">

      @if (query.status() === "success" && query.data()!.payload !== null) {
        @for (product of query.data()!.payload | productsSearch: searchText():filters(); track product.id) {
          <app-product [product]="product"/>
        }
        <app-custom-pizza/>
      }

      @if (query.status() === "error") {
        <app-server-error/>
      }
    </div>
  </div>
</div>
